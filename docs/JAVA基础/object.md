# 面向对象

## 定义

面向过程：当需要实现一个功能的时候，每一个具体的步骤都要亲力亲为，详细处理每一个细节。
面向对象：当需要实现一个功能的时候，不关心具体的步骤，而是找一个已经具有该功能的人，来帮我做事儿。

## 特征

三大基本特征，即封装、继承和多态。

## 类与对象的关系

- 类是对一类事物的描述，是抽象的。
- 对象是一类事物的实例，是具体的。
- 类是对象的模板，对象是类的实体。

## 对象内存图

### 一个对象，调用一个方法内存图

![](https://cdn.jsdelivr.net/gh/mumozi/Figure_bed/img/20200220112110.png)

!>通过上图，我们可以理解，在栈内存中运行的方法，遵循"先进后出，后进先出"的原则。变量p指向堆内存中
的空间，寻找方法信息，去执行该方法。

但是，这里依然有问题存在。创建多个对象时，如果每个对象内部都保存一份方法信息，这就非常浪费内存
了，因为所有对象的方法信息都是一样的。那么如何解决这个问题呢？请看如下图解。

### 两个对象，调用同一方法内存图

![](https://cdn.jsdelivr.net/gh/mumozi/Figure_bed/img/20200220112145.png)

!>对象调用方法时，根据对象中方法标记（地址值），去类中寻找方法信息。这样哪怕是多个对象，方法信息
只保存一份，节约内存空间。

### 一个引用，作为参数传递到方法中内存图

![](https://cdn.jsdelivr.net/gh/mumozi/Figure_bed/img/20200220112203.png)

!>引用类型作为参数，传递的是地址值。

## 局部变量和成员变量

1. 定义的位置不一样【重点】
局部变量：在方法的内部
成员变量：在方法的外部，直接写在类当中

2. 作用范围不一样【重点】
局部变量：只有方法当中才可以使用，出了方法就不能再用
成员变量：整个类全都可以通用。

3. 默认值不一样【重点】
局部变量：没有默认值，如果要想使用，必须手动进行赋值
成员变量：如果没有赋值，会有默认值，规则和数组一样

4. 内存的位置不一样（了解）
局部变量：位于栈内存
成员变量：位于堆内存

5. 生命周期不一样（了解）
  局部变量：随着方法进栈而诞生，随着方法出栈而消失
  成员变量：随着对象创建而诞生，随着对象被垃圾回收而消失

  

## 封装

封装性在Java当中的体现：
1. 方法就是一种封装
2. 关键字private也是一种封装

!>封装就是将一些细节信息隐藏起来，对于外界不可见。

### 封装优化1——this关键字

!>当方法的局部变量和类的成员变量重名的时候，根据“就近原则”，优先使用局部变量。
如果需要访问本类当中的成员变量，需要使用格式：
this.成员变量名。方法被哪个对象调用，方法中的this就代表那个对象。即谁在调用，this就代表谁。

### 封装优化2——构造方法

!>无论你与否自定义构造方法，所有的类都有构造方法，因为Java自动提供了一个无参数构造方法，
一旦自己定义了构造方法，Java自动提供的默认无参数构造方法就会失效。
构造。

注意事项
1. 如果你不提供构造方法，系统会给出无参数构造方法。
2. 如果你提供了构造方法，系统将不再提供无参数构造方法。
3. 构造方法是可以重载的，既可以定义参数，也可以不定义参数。